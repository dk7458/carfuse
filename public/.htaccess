RewriteEngine On

# Allow direct access to existing files and directories
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Block access to sensitive files
<FilesMatch "(^\.|config\.php|database\.php|encryption\.php|logs|\.env)">
    Require all denied
</FilesMatch>

# Redirect all other requests to index.php
RewriteRule ^ index.php [QSA,L]
